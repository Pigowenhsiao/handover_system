# 多言語対応 仕様 (Specification)

## 1. 概要 (Overview)

システムの多言語対応を実現し、UI と表ヘッダで日本語/英語/中国語を選択可能にする。これにより国際化対応を強化し、異なる言語背景の利用者が使いやすくなる。

## 2. ユーザーシナリオとテスト (User Scenarios & Testing)

### 主要シナリオ
- **シナリオ1**: 利用者が言語を選択
  - UI の目立つ位置に言語選択が表示される
  - 選択直後に UI が該当言語へ切替
  - 表ヘッダ、ボタン、ラベル、メッセージが選択言語で表示される

- **シナリオ2**: 利用中に言語を切替
  - 操作を中断せずに言語切替できる
  - 切替後に UI が即時更新される
  - 現在の操作状態は維持される

### テストケース
- 3 言語（日本語/英語/中文）が選択できること
- 選択後に UI 要素が正しく翻訳されること
- 言語切替で操作状態が失われないこと
- 表ヘッダ/ボタン/ラベル/メッセージが正しく翻訳されること

## 3. 機能要件 (Functional Requirements)

### FR1: 言語選択
- 言語選択 UI（ドロップダウン/ボタン）を提供
- 全ページの目立つ位置で利用可能
- 日本語/英語/中文の 3 言語に対応
- 既定言語は日本語

### FR2: 即時切替
- 言語選択後に UI が即時切替
- リロードや状態喪失を発生させない
- 言語選択は単一セッション内で保持
- 再起動時は既定言語（日本語）に戻る

### FR3: 翻訳管理
- 3 言語の翻訳リソースを維持
- 全ての表示文言に翻訳を用意
- 翻訳は原文の意味を正確に反映
- 管理者がインポート/エクスポートで管理可能

### FR4: タイトルと表ヘッダ
- 表ヘッダは選択言語で表示
- 機能モジュールのタイトルも選択言語で表示
- 表の列ヘッダも選択言語で表示

### FR5: 数値・日付形式
- 数値/日付の表示は選択言語に合わせる
- 内部フォーマットは統一的に扱う

## 4. 非機能要件 (Non-Functional Requirements)

### NFR1: 性能
- 言語切替は 500ms 未満
- 初回言語リソース読み込みは 1 秒未満

### NFR2: 可用性
- 言語選択 UI は明確で識別しやすい
- 全ユーザーが容易に見つけられる
- 文字方向は左から右 (LTR) のみ対応

### NFR3: 保守性
- 翻訳内容を更新・拡張しやすい
- 将来の言語追加に対応可能

## 5. 成功基準 (Success Criteria)

- [ ] 95% 以上の UI 文言が選択言語で正しく表示
- [ ] 言語切替は 2 回以内の操作で完了
- [ ] 5 秒以内に言語選択 UI を見つけられる
- [ ] 言語切替の UI 更新が 500ms 未満
- [ ] 3 言語（日本語/英語/中文）の翻訳が完了
- [ ] 言語選択は単一セッション内で維持

## 6. 主要エンティティ (Key Entities)

- 言語リソースファイル：JSON 翻訳ファイル
- 言語セレクター：UI 言語を選択する要素
- 現在の言語：ユーザーが選択した言語設定

## 7. 依存関係と前提 (Dependencies & Assumptions)

### 依存関係
- UI が動的更新をサポートしていること
- ローカルの言語リソースにアクセス可能

### 前提
- 翻訳は管理者が維持
- 対応言語は日本語/英語/中文のみ
- 文字方向は LTR のみ

## 8. エッジケース (Edge Cases)

- 翻訳が欠落した場合は既定言語へフォールバック
- 言語リソースの読み込み失敗時はエラー表示し既定言語に戻す
- 翻訳が長く列幅を超える場合でも可読性を確保

## 9. 合意済み事項
### 2025-11-25 会議決定
- **Q**: 既定言語は？
  - **A**: 日本語
- **Q**: 言語選択の保存方法は？
  - **A**: 単一セッション内で保持し、再起動で既定言語へ戻る
- **Q**: 文字方向の対応は？
  - **A**: LTR のみ
- **Q**: 翻訳管理は誰が行う？
  - **A**: 管理者がインポート/エクスポートで管理
- **Q**: 数値/日付形式は？
  - **A**: 選択言語に合わせて表示
